<?php
// Liste des Simulation d'un Set.
use AF\Domain\InputSet\PrimaryInputSet;
use MyCLabs\MUIH\GenericVoidTag;

$datagridListScenarios = new UI_Datagrid('listScenarios', 'datagrid_scenario', 'simulation');

$colLabelScenario = new UI_Datagrid_Col_Text('labelScenario', __('UI', 'name', 'label'));
$colLabelScenario->editable = true;
$colLabelScenario->addable = true;
$datagridListScenarios->addCol($colLabelScenario);

$colAdvancementInput = new UI_Datagrid_Col_Percent('advancementInput', __('UI', 'name', 'progress'));
$datagridListScenarios->addCol($colAdvancementInput);

$colStateInput = new UI_Datagrid_Col_List('stateInput', __('UI', 'name', 'status'));
$colStateInput->withEmptyElement = false;
$colStateInput->editable = false;
$colStateInput->addable = false;
$imageFinished = new GenericVoidTag('img');
$imageFinished->setAttribute('src', 'images/af/bullet_green.png');
$imageFinished->setAttribute('alt', 'finish');
$imageComplete = new GenericVoidTag('img');
$imageComplete->setAttribute('src', 'images/af/bullet_orange.png');
$imageComplete->setAttribute('alt', 'complet');
$imageCalculationIncomplete = new GenericVoidTag('img');
$imageCalculationIncomplete->setAttribute('src', 'images/af/bullet_red.png');
$imageCalculationIncomplete->setAttribute('alt', 'incomplet');
$imageInputIncomplete = new GenericVoidTag('img');
$imageInputIncomplete->setAttribute('src', 'images/af/bullet_red.png');
$imageInputIncomplete->setAttribute('alt', 'incomplet');
$colStateInput->list = array(
    PrimaryInputSet::STATUS_FINISHED => $imageFinished->render() . ' ' . __('AF', 'inputInput', 'statusFinished'),
    PrimaryInputSet::STATUS_COMPLETE => $imageComplete->render() . ' ' . __('AF', 'inputInput', 'statusComplete'),
    PrimaryInputSet::STATUS_CALCULATION_INCOMPLETE => $imageCalculationIncomplete->render() . ' ' . __('AF', 'inputInput', 'statusCalculationIncomplete'),
    PrimaryInputSet::STATUS_INPUT_INCOMPLETE => $imageInputIncomplete->render() . ' ' . __('AF', 'inputInput', 'statusInputIncomplete'),
);
$datagridListScenarios->addCol($colStateInput);

$colLinkEdit = new UI_Datagrid_Col_Link('link', __('UI', 'name', 'input'));
$colLinkEdit->addable = false;
$datagridListScenarios->addCol($colLinkEdit);

$datagridListScenarios->pagination = false;
$datagridListScenarios->addElements = true;
$datagridListScenarios->addPanelTitle = __('Simulation', 'setSingle', 'addPanelTitle');
$datagridListScenarios->deleteElements = true;
$datagridListScenarios->addParam('idSet', $this->idSet);

$datagridListScenarios->display();
