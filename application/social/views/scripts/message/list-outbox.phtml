<?php
use MyCLabs\MUIH\Button;

$closeButton = new Button(__('UI', 'verb', 'close'), Button::TYPE_PRIMARY);
$closeButton->setAttribute('data-dismiss', 'modal');

$datagrid = new UI_Datagrid('outbox', 'datagrid_message_outbox', 'social');
$datagrid->pagination = true;

// Auteur
$columnAuthor = new UI_Datagrid_Col_Text('author', __('Social', 'message', 'sender'));
$datagrid->addCol($columnAuthor);

// Objet
$columnObject = new UI_Datagrid_Col_Popup('message', __('Social', 'name', 'message'));
$columnObject->editable = false;
$columnObject->popup->addTitle(_('Social', 'message', 'outboxDetailMessagePopupTitle'));
$columnObject->popup->setFooterContent($closeButton->render());
$datagrid->addCol($columnObject);

// Destinataire
$columnRecipient = new UI_Datagrid_Col_Popup('recipient', __('Social', 'message', 'recipient'));
$columnRecipient->editable = false;
$columnRecipient->popup->addTitle(__('UI', 'name', 'informations'));
$columnRecipient->popup->setFooterContent($closeButton->render());
$datagrid->addCol($columnRecipient);

// Date
$columnDate = new UI_Datagrid_Col_Date('date', __('Social', 'message', 'dispatchDate'));
$columnDate->editable = false;
$datagrid->addCol($columnDate);

echo $datagrid->render();
